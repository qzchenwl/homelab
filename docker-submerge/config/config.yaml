# åŸºç¡€è®¢é˜…
subscribers:
  nzl: &nzl !include ${NZL_SUBSCRIBE_URL}
  proxies: &proxies !flatten
    - !jq { object: *nzl, filter: '[.proxies[] | (.name += "-nzl")]' }
  proxy-names: &all !jq { object: *proxies, filter: '[.[].name | select(contains("ä½¿ç”¨") or contains("é€‰æ‹©") | not) ]' }
  hk-proxy-names: &hk !jq { object: *all, filter: '[.[] | select(contains("é¦™æ¸¯"))]' }
  tw-proxy-names: &tw !jq { object: *all, filter: '[.[] | select(contains("å°æ¹¾"))]' }
  kr-proxy-names: &kr !jq { object: *all, filter: '[.[] | select(contains("éŸ©å›½"))]' }
  jp-proxy-names: &jp !jq { object: *all, filter: '[.[] | select(contains("æ—¥æœ¬"))]' }
  sg-proxy-names: &sg !jq { object: *all, filter: '[.[] | select(contains("æ–°åŠ å¡"))]' }
  us-proxy-names: &us !jq { object: *all, filter: '[.[] | select(contains("ç¾å›½"))]' }
  ru-proxy-names: &ru !jq { object: *all, filter: '[.[] | select(contains("ä¿„ç½—æ–¯"))]' }
  de-proxy-names: &de !jq { object: *all, filter: '[.[] | select(contains("å¾·å›½"))]' }
  uk-proxy-names: &uk !jq { object: *all, filter: '[.[] | select(contains("è‹±å›½"))]' }
  fr-proxy-names: &fr !jq { object: *all, filter: '[.[] | select(contains("æ³•å›½"))]' }
  ca-proxy-names: &ca !jq { object: *all, filter: '[.[] | select(contains("åŠ æ‹¿å¤§"))]' }
  es-proxy-names: &es !jq { object: *all, filter: '[.[] | select(contains("è¥¿ç­ç‰™"))]' }
  au-proxy-names: &au !jq { object: *all, filter: '[.[] | select(contains("æ¾³å¤§åˆ©äºš"))]' }
  it-proxy-names: &it !jq { object: *all, filter: '[.[] | select(contains("æ„å¤§åˆ©"))]' }
  tk-proxy-names: &tk !jq { object: *all, filter: '[.[] | select(contains("åœŸè€³å…¶"))]' }
  openai-proxy-names: &openai !flatten [*tw, *kr, *jp, *sg, *us, *de, *uk, *fr, *ca, *es, *au, *it]
  group-proxy-names: &group !flatten [[ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ¯ å…¨çƒç›´è¿, â™»ï¸ è‡ªåŠ¨é€‰æ‹©], *all]

# è¾“å‡ºè®¢é˜…
port: 7890
socks-port: 7891
allow-lan: true
mode: rule
log-level: info
external-controller: :9090
proxies: *proxies
proxy-groups:
  - name: ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
    type: select
    proxies: *all
  - name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - â™»ï¸ OpenAIè‡ªåŠ¨é€‰æ‹©
      - ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
      - ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
      - ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
      - DIRECT
  - name: ğŸ¯ å…¨çƒç›´è¿
    type: select
    proxies:
      - DIRECT
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
  - name: ğŸ›‘ å…¨çƒæ‹¦æˆª
    type: select
    proxies:
      - REJECT
      - DIRECT
  - name: ğŸƒ åº”ç”¨å‡€åŒ–
    type: select
    proxies:
      - REJECT
      - DIRECT
  - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
    type: select
    proxies: !flatten
      - - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
        - ğŸ¯ å…¨çƒç›´è¿
        - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - *all
  - name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    proxies: *jp
  - name: ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 600
    tolerance: 50
    proxies: *hk
  - name: ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 150
    proxies: *us
  - name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    proxies: *all
  - name: â™»ï¸ OpenAIè‡ªåŠ¨é€‰æ‹©
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 150
    proxies: *openai
  - name: ğŸ¤– OpenAI
    type: select
    proxies: !flatten
      - - â™»ï¸ OpenAIè‡ªåŠ¨é€‰æ‹©
      - *openai
  - name: ğŸ“¢ è°·æ­ŒFCM
    type: select
    proxies: *group
  - name: ğŸ“² ç”µæŠ¥ä¿¡æ¯
    type: select
    proxies: *group
  - name: ğŸŒ å›½å¤–åª’ä½“
    type: select
    proxies: *group
  - name: â“‚ï¸ å¾®è½¯æœåŠ¡
    type: select
    proxies: *group
  - name: ğŸ è‹¹æœæœåŠ¡
    type: select
    proxies: *group

rules: !flatten
  - - DOMAIN-SUFFIX,openai.com,ğŸ¤– OpenAI
    - DOMAIN-SUFFIX,chatgpt.com,ğŸ¤– OpenAI
    - DOMAIN-SUFFIX,claude.ai,ğŸ¤– OpenAI
    - DOMAIN-SUFFIX,anthropic.com,ğŸ¤– OpenAI
    - DOMAIN-SUFFIX,cdn.oaistatic.com,ğŸ¤– OpenAI
    - DOMAIN-SUFFIX,auth0.com,ğŸ¤– OpenAI
    - DOMAIN-SUFFIX,bing.com,ğŸ¤– OpenAI
    - DOMAIN-SUFFIX,live.com,ğŸ¤– OpenAI
    - DOMAIN-SUFFIX,aistudio.google.com,ğŸ¤– OpenAI
    - DOMAIN-SUFFIX,oaistatic.com,ğŸ¤– OpenAI
    - DOMAIN-SUFFIX,brew.sh,ğŸŒ å›½å¤–åª’ä½“
    - DOMAIN-SUFFIX,hackster.io,ğŸŒ å›½å¤–åª’ä½“
    - DOMAIN-SUFFIX,imgur.com,ğŸŒ å›½å¤–åª’ä½“
    - DOMAIN-SUFFIX,googleadservices.com,ğŸŒ å›½å¤–åª’ä½“
    - DOMAIN-SUFFIX,huggingface.co,ğŸŒ å›½å¤–åª’ä½“
    - DOMAIN-SUFFIX,one.dash.cloudflare.com,ğŸŒ å›½å¤–åª’ä½“
    - DOMAIN-SUFFIX,7-zip.org,ğŸŒ å›½å¤–åª’ä½“
    - DOMAIN-SUFFIX,api.ipify.org,ğŸ¯ å…¨çƒç›´è¿
    - DOMAIN-SUFFIX,i.cwllll.com,ğŸ¯ å…¨çƒç›´è¿
  - !jq {object: *nzl, filter: '[.rules[] | select(contains("openai")|not)]'}

